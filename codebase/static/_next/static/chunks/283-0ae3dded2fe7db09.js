!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8f89b8b9-b4f4-48bb-b9a8-d1671c67c0fc",e._sentryDebugIdIdentifier="sentry-dbid-8f89b8b9-b4f4-48bb-b9a8-d1671c67c0fc")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[283],{74964:function(e,t,n){n.d(t,{h:function(){return o},o:function(){return d}});var r,o,i=n(96342),s=n(75050),a=n(9450),u=n(44796);function d(e){let{asset:t}=e;return 0===t.type?(0,i.jsx)(c,{asset:t}):null}function c(e){let{asset:t}=e,{data:n,isLoading:r,error:o}=(0,a.aM)({queryKey:["pdf",t.id],queryFn:async()=>await (0,s.Z)(t.fileUri)}),d=(0,u.useRef)(null);return((0,u.useEffect)(()=>{let e=()=>{if(d.current){let e=.9*window.innerHeight;d.current.style.height="".concat(e,"px")}};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]),r)?(0,i.jsx)("div",{children:"Loading..."}):o?(0,i.jsx)("div",{children:"Error: The PDF is in-accessible"}):(0,i.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,i.jsx)("iframe",{ref:d,src:n,width:"100%",height:"800px",title:t.name,className:"border border-gray-300 rounded-lg shadow-md"})})}(r=o||(o={}))[r.PDF=0]="PDF"},64210:function(e,t,n){n.d(t,{g:function(){return c}});var r=n(91841),o=n(90199),i=n(86331),s=n(94437),a=n(74198),u=n(46488);class d{constructor(e,t){this.set=e,this.get=t,this.activeModelId=r.ww.GROK,this.isRateLimited=!1,this.outputMode="auto",this.setConversationId=e=>{this.set(s.Z("conversationId",e))},this.setLastMessageId=e=>{this.set(s.Z("lastMessageId",e))},this.setActiveAsset=e=>{this.set(s.Z("activeAsset",e))},this.setStreamedMessageId=e=>{this.set(s.Z("streamedMessageId",e))},this.setActiveModelId=e=>{this.set(s.Z("activeModelId",e))},this.setSelectedSystemPromptId=e=>{this.set(s.Z("selectedSystemPromptId",e))},this.setIsRateLimited=e=>{this.set(s.Z("isRateLimited",e))},this.setOptimisticMessageId=(0,o.f0)(this.set,"optimisticMessageId"),this.setOutputMode=(0,o.f0)(this.set,"outputMode")}}let c=(0,a.U)()((0,u.XR)((0,u.tJ)((e,t)=>new d(e,t),{name:"chat-preferences",partialize:e=>({outputMode:e.outputMode}),version:1})));!function(e){let t=new i.y("/chat/:chatId"),n=t.test(window.location.pathname);n&&e.setState({conversationId:n.chatId}),window.addEventListener("popstate",()=>{let n=t.test(window.location.pathname);n&&e.setState({conversationId:n.chatId})}),e.subscribe((e,n)=>{if(e.conversationId===n.conversationId)return;let r=new URLSearchParams(window.location.search);r.delete("q");let o=r.toString(),i="".concat(o?"?".concat(o):"");if(!e.conversationId){let e="/".concat(i);window.history.pushState({...window.history.state,as:e,url:e},"",e);return}let s=t.build({chatId:e.conversationId}),a="".concat(s).concat(i);window.history.pushState({...window.history.state,as:a,url:a},"",a)})}(c)},36671:function(e,t,n){n.d(t,{O:function(){return a},default:function(){return s}});var r=n(96342),o=n(44796);let i=(0,o.createContext)(null);function s(e){let{children:t,envVars:n}=e;return(0,r.jsx)(i.Provider,{value:n,children:t})}function a(){let e=(0,o.useContext)(i);if(!e)throw Error("useEnvironment must be used within an EnvironmentProvider");return e}},71896:function(e,t,n){n.d(t,{default:function(){return f},useSession:function(){return l}});var r=n(96342);n(59662);var o=(0,n(67663).$)("3d55585550d3305c62709ccb2a9fef78be08f3d2"),i=n(44796),s=n(10940),a=n(74198),u=n(26436);let d=(0,i.createContext)(void 0),c=e=>(0,s.M)()(t=>({user:null==e?void 0:e.user,updateUser:e=>t(t=>({...t||{},user:{...t.user||{},...e}})),clearUser:()=>t(e=>({...e||{},user:void 0})),refreshSession:async()=>(0,u.Z)().then(e=>{t(e)}),anonUser:null==e?void 0:e.anonUser,refreshAnonUser:async(e,n)=>o({privateKey:n,anonUserId:e}).then(n=>{t(t=>({...t||{},anonUser:{anonUserId:e,expirationDate:n.challengeExpirationDate}}))})})),l=()=>{let e=(0,i.useContext)(d);if(!e)throw Error("useSession must be used within SessionStoreProvider");return(0,a.o)(e)};var f=e=>{let{initialData:t,children:n}=e,o=(0,i.useRef)();return o.current||(o.current=c(t)),(0,r.jsx)(d.Provider,{value:o.current,children:n})}},26436:function(e,t,n){n(59662);var r=n(67663);t.Z=(0,r.$)("4f6050e9caf7c9ac64f16c7979ce79be3e6ea7a3")},73806:function(e,t,n){n.d(t,{d:function(){return u},z:function(){return d}});var r=n(96342),o=n(51448),i=n(42063),s=n(44796),a=n(8240);let u=(0,i.j)(["inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50","[&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg]:-mx-0.5"],{variants:{variant:{primary:"bg-button-primary text-background hover:bg-button-primary-hover",secondary:"bg-button-secondary text-primary hover:bg-button-secondary-hover",card:"ring-1 ring-inset ring-card-border bg-card hover:bg-card-hover text-primary",ghost:"text-primary hover:bg-button-ghost-hover",ghostSecondary:"text-secondary hover:text-primary hover:bg-button-ghost-hover",text:"text-primary bg-transparent hover:underline",outline:"bg-background border border-card-border backdrop-blur-xl shadow-sm text-secondary hover:text-primary",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",link:"text-primary underline-offset-4 hover:underline"},size:{md:"h-9 rounded-xl px-3.5 py-2 text-base",icon:"h-10 w-10 rounded-xl",none:"",lg:"h-10 rounded-3xl px-4",pill:"h-9 rounded-full px-3.5 py-2 text-base",default:"h-9 px-4 py-2 rounded-lg",sm:"h-8 rounded-lg px-3 text-xs",iconSm:"h-6 w-6 rounded-full",noPadding:"h-9 rounded-lg"}},defaultVariants:{variant:"primary",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:n,variant:i,size:s,asChild:d=!1,...c}=e,l=d?o.g7:"button";return(0,r.jsx)(l,{className:(0,a.cn)(u({variant:i,size:s,className:n})),ref:t,type:"button",...c})});d.displayName="Button"},72981:function(e,t,n){n.d(t,{OX:function(){return f},Qz:function(){return u},dy:function(){return a},iI:function(){return m},sc:function(){return l},u6:function(){return v},ze:function(){return h}});var r=n(96342),o=n(44796),i=n(53365),s=n(8240);let a=e=>{let{shouldScaleBackground:t=!0,...n}=e;return(0,r.jsx)(i.d.Root,{shouldScaleBackground:t,...n})};a.displayName="Drawer";let u=i.d.Trigger,d=i.d.Portal;i.d.Close;let c=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(i.d.Overlay,{ref:t,className:(0,s.cn)("fixed inset-0 z-50 bg-black/80",n),...o})});c.displayName=i.d.Overlay.displayName;let l=o.forwardRef((e,t)=>{let{className:n,children:o,...a}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(c,{}),(0,r.jsxs)(i.d.Content,{ref:t,className:(0,s.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[24px] bg-background",n),...a,children:[(0,r.jsx)("div",{className:"mx-auto mt-3 mb-2 h-2 w-[100px] rounded-full bg-secondary/80"}),o]})]})});l.displayName="DrawerContent";let f=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,s.cn)("grid gap-1.5 p-4 text-center sm:text-left",t),...n})};f.displayName="DrawerHeader";let h=e=>{let{className:t,...n}=e;return(0,r.jsx)("div",{className:(0,s.cn)("mt-auto flex flex-col gap-2 p-4",t),...n})};h.displayName="DrawerFooter";let m=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(i.d.Title,{ref:t,className:(0,s.cn)("text-lg font-semibold leading-none tracking-tight",n),...o})});m.displayName=i.d.Title.displayName;let v=o.forwardRef((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)(i.d.Description,{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",n),...o})});v.displayName=i.d.Description.displayName},6418:function(e,t,n){n.d(t,{_v:function(){return c},aJ:function(){return d},pn:function(){return a},u:function(){return u}});var r=n(96342),o=n(11666),i=n(44796),s=n(8240);let a=o.zt,u=o.fC,d=o.xz,c=i.forwardRef((e,t)=>{let{className:n,sideOffset:i=4,...a}=e;return(0,r.jsx)(o.h_,{children:(0,r.jsx)(o.VY,{ref:t,sideOffset:i,className:(0,s.cn)("z-50 overflow-hidden rounded-md bg-popover px-3 py-1.5 text-xs text-popover-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...a})})});c.displayName=o.VY.displayName},91841:function(e,t,n){n.d(t,{$1:function(){return o},hv:function(){return s},rc:function(){return i},ww:function(){return r}});let r={GROK:"grok-2-latest"};function o(e){if(e===r.GROK)return"hi tibor"}function i(e){if(e===r.GROK)return"Our most intelligent model"}let s=Object.values(r)},27997:function(e,t,n){n.d(t,{w:function(){return o}});var r=n(44796);function o(){let[e,t]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),n=()=>{t(window.innerWidth<768)};return e.addEventListener("change",n),t(window.innerWidth<768),()=>e.removeEventListener("change",n)},[]),!!e}},99196:function(e,t,n){n.d(t,{E:function(){return a},F:function(){return s}});var r=n(81959),o=n(61645),i=n(44796);function s(){let e=(0,r.F)(o.Z("theme"));return"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e}function a(e){(0,i.useLayoutEffect)(()=>{"dark"===e?(document.documentElement.classList.remove("light"),document.documentElement.classList.add("dark")):"light"===e&&(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("light"))},[e])}},75050:function(e,t,n){n(59662);var r=n(67663);t.Z=(0,r.$)("26003da8824cdf66642cacdd55a36ec54f10752d")},8240:function(e,t,n){n.d(t,{cn:function(){return i}});var r=n(70594),o=n(24484);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.m6)((0,r.W)(t))}},90199:function(e,t,n){n.d(t,{H:function(){return h},Kn:function(){return g},MT:function(){return w},N7:function(){return y},Nh:function(){return v},Od:function(){return f},Qd:function(){return m},R3:function(){return p},ZN:function(){return l},f0:function(){return c},tM:function(){return b}});var r=n(27755),o=n(50212),i=n(61645),s=n(96362),a=n(82311),u=n(74198),d=n(46488);function c(e,t){return n=>{e(e=>({...e,[t]:n}))}}function l(e,t){return()=>{e(e=>({...e,[t]:!e[t]}))}}function f(e,t){return n=>{e(e=>({...e,[t]:r.Z([n],e[t])}))}}function h(e,t,n){return r=>{e(e=>({...e,[t]:{...e[t],...o.Z(i.Z(n),[r])}}))}}function m(e,t){return(n,r)=>{e(e=>({...e,[t]:{...e[t],[r]:n}}))}}function v(e,t){return(n,r)=>{e(e=>({...e,[t]:{...e[t],[r]:[...e[t][r]||[],n]}}))}}function g(e,t,n){return(r,o)=>{e(e=>({...e,[t]:{...e[t],[r]:e[t][r].filter(e=>e[n]!==o)}}))}}function p(e,t,n){return r=>{e(e=>({...e,[t]:{...e[t],...o.Z(i.Z(n),r)}}))}}function y(e,t,n,r){let{subscribe:o,setState:u}=e;return o(i.Z(t),e=>{u(s.Z(a.Z(n),r(e)))},{fireImmediately:!0})}function b(e,t,n,r){let{subscribe:o,setState:u}=e;try{let e=localStorage.getItem(n);if(null!=e){let n=JSON.parse(e);u(s.Z(a.Z(t),n))}}catch(e){localStorage.setItem(n,JSON.stringify(r))}o(i.Z(t),e=>{localStorage.setItem(n,JSON.stringify(e))})}function w(e){return(0,u.U)()((0,d.XR)((t,n)=>new e(t,n)))}},15497:function(e,t,n){n.d(t,{t:function(){return w}}),n(59662);var r=n(67663),o=(0,r.$)("75749a3b9e14897a84d8c69e2653116a0a2c90ea"),i=(0,r.$)("8d610cc6626a0b3c455ec1ad39756f61689e9f4b"),s=(0,r.$)("025fbd0ba0aee4074d91bc242120c8b365b8633d"),a=(0,r.$)("e17e083104e6a1b9a9acf765e1646b94bec6b860"),u=(0,r.$)("5ec726254208cf0648a48c0573051291be817a7f"),d=n(90199),c=n(21873),l=n.n(c),f=n(96362),h=n(7891);let m={},v={},g=[],p={},y={};class b{constructor(e,t){this.set=e,this.get=t,this.promiseById=m,this.byId=v,this.list=g,this.streamStateById=p,this.abortControllerById=y,this.upsertConversation=(0,d.H)(this.set,"byId","conversationId"),this.appendConversations=(0,d.R3)(this.set,"byId","conversationId"),this.removeConversation=(0,d.Od)(this.set,"byId"),this.idsertConversationPromise=(0,d.Qd)(this.set,"promiseById"),this.removeConversationPromise=(0,d.Od)(this.set,"promiseById"),this.idsertStreamStateById=(0,d.Qd)(this.set,"streamStateById"),this.removeStreamStateById=(0,d.Od)(this.set,"streamStateById"),this.idsertAbortControllerById=(0,d.Qd)(this.set,"abortControllerById"),this.removeAbortControllerById=(0,d.Od)(this.set,"abortControllerById"),this.fetchCreateConversation=e=>{var t;let n=this.get(),r=o(e),i=null===(t=e.addResponseRequest)||void 0===t?void 0:t.conversationId;return i&&n.idsertConversationPromise(r,i),r.then(e=>{n.upsertConversation(e),n.idsertConversationPromise(r,e.conversationId)}),r},this.fetchUpdateConversation=e=>{let t=this.get(),n=u(e);return t.idsertConversationPromise(n,e.conversationId),n.then(t.upsertConversation),n},this.fetchDeleteConversation=e=>{let t=this.get(),n=i({conversationId:e});return t.removeConversation(e),t.removeConversationPromise(e),n},this.fetchListConversations=e=>{let t=this.get(),n=a(e).then(e=>e.conversations);return n.then(e=>{t.set(t=>({promiseById:{...t.promiseById,...l().mapValues(l().keyBy(e,"conversationId"),e=>Promise.resolve(e))}})),t.appendConversations(e)}),n},this.fetchGetConversation=e=>{let t=this.get();if(e in t.byId)return Promise.resolve(t.byId[e]);if(e in t.promiseById)return t.promiseById[e];let n=s({conversationId:e});return t.set(f.Z(h.Z(["promiseById",e]),n)),n.then(t.upsertConversation),n}}}let w=(0,d.MT)(b);(0,d.N7)(w,"byId","list",Object.values)},81959:function(e,t,n){n.d(t,{F:function(){return i},y:function(){return s}});var r=n(90199);class o{constructor(e,t){this.set=e,this.get=t,this.theme="system",this.isIncognito=!1,this.setTheme=(0,r.f0)(this.set,"theme"),this.setIsIncognito=(0,r.f0)(this.set,"isIncognito")}}let i=(0,r.MT)(o);(0,r.tM)(i,"theme","theme","system");let s=["light","dark","system"]},2645:function(e,t,n){n.d(t,{Gv:function(){return r},Pw:function(){return o}});let r="production",o="production"==r},6090:function(e,t,n){var r=n(82866),o=n(44796),i=n(2645);t.default=e=>{let t=(0,r.useLogger)(e),n=(0,o.useMemo)(()=>({environment:i.Gv,route:window.location.href,isClientSide:!0,origin:window.location.origin}),[]);return i.Pw?{flush:t.flush,debug:(e,r)=>t.debug(e,r?{...n,...r}:r),info:(e,r)=>t.info(e,r?{...n,...r}:r),warn:(e,r)=>t.warn(e,r?{...n,...r}:r),error:(e,r)=>t.error(e,r?{...n,...r}:r),logHttpRequest:(e,r,o,i)=>t.logHttpRequest(e,r,o,i?{...n,...i}:i)}:{debug:console.debug,info:console.info,warn:console.warn,error:console.error,flush:()=>{},logHttpRequest:console.info}}},9450:function(e,t,n){n.d(t,{Su:function(){return r.S},aH:function(){return o.QueryClientProvider},sk:function(){return i.sk},Db:function(){return s.default},aM:function(){return a.default}});var r=n(87282),o=n(38843),i=n(65902),s=n(89271),a=n(22752);n(34642),n(82866),n(2645),n(6090),n(96342),n(44796),n(8e4),n(87243)},34642:function(e,t,n){n.d(t,{Y:function(){return s}});var r=n(8e4);function o(e){let t=/\[WKE=([a-zA-Z0-9\-_]+):([a-zA-Z0-9\-_]+)(:([a-zA-Z0-9\-_]+))?]/g,n=[],r=null;do null!==(r=t.exec(e))&&n.push({error:"".concat(r[1],":").concat(r[2]),field:r[4]});while(null!==r);return n}var i=n(87243);function s(e){return async t=>{let n=await e(t);if(n&&"object"==typeof n&&"error"in n){var s;throw new i.o({status:(0,r.d)(n.error),wellKnownErrors:(s=n.error)&&"object"==typeof s&&"message"in s&&"string"==typeof s.message?o(s.message):"string"==typeof s?o(s):[],message:n.error})}return n}}},8e4:function(e,t,n){var r,o;n.d(t,{d:function(){return i}}),(o=r||(r={})).Ok="0 OK",o.Cancelled="1 CANCELLED",o.Unknown="2 UNKNOWN",o.InvalidArgument="3 INVALID_ARGUMENT",o.DeadlineExceeded="4 DEADLINE_EXCEEDED",o.NotFound="5 NOT_FOUND",o.AlreadyExists="6 ALREADY_EXISTS",o.PermissionDenied="7 PERMISSION_DENIED",o.ResourceExhausted="8 RESOURCE_EXHAUSTED",o.FailedPrecondition="9 FAILED_PRECONDITION",o.Aborted="10 ABORTED",o.OutOfRange="11 OUT_OF_RANGE",o.Unimplemented="12 UNIMPLEMENTED",o.Internal="13 INTERNAL",o.Unavailable="14 UNAVAILABLE",o.DataLoss="15 DATA_LOSS",o.Unauthenticated="16 UNAUTHENTICATED";let i=e=>{if(e&&"object"==typeof e&&"message"in e&&"string"==typeof e.message){for(let t in r)if(isNaN(Number(t))){let n=r[t];if(e.message.includes(n))return n}}}},87243:function(e,t,n){n.d(t,{o:function(){return r}});class r extends Error{constructor({status:e,wellKnownErrors:t,message:n}){super(n),this.status=e,this.wellKnownErrors=t}}},89271:function(e,t,n){var r=n(73493),o=n(34642);t.default=(e,t)=>(e.mutationFn&&(e.mutationFn=(0,o.Y)(e.mutationFn)),(0,r.useMutation)(e,t))},22752:function(e,t,n){var r=n(81119),o=n(34642);t.default=(e,t)=>(e.queryFn&&"function"==typeof e.queryFn&&(e.queryFn=(0,o.Y)(e.queryFn)),(0,r.useQuery)(e,t))}}]);