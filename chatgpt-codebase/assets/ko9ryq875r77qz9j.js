import{j as e,M as k,c as C,r as l}from"./bbqge6n6s1oo3m8q.js";import{cI as E,P as j,cJ as M,be as y,cK as O,cL as P,cM as b,cN as A,cO as F,cP as H,cQ as _,cR as B,cS as I}from"./lt2ef0v2naysiy2l.js";import{G as x}from"./mmwacm2oz5glh3tg.js";import{d9 as D,ap as T,at as U,d$ as J,d5 as K}from"./lemv4z8z7gk39eh5.js";import"./e9ioikt8tbassp1n.js";function Q({currentGizmoId:t,onClick:a}){const{isSidebarFlyoutOpen:r,onSidebarFlyoutOpenChange:i}=E(),s=r(j.Snorlax);return e.jsx("div",{className:"group flex w-full items-center justify-start screen-arch:mt-1",children:e.jsx(D,{onOpenChange:o=>i(j.Snorlax,o),side:"right",sideOffset:4,open:s,contentAlign:"end",triggerButton:e.jsxs("button",{className:T("flex flex-1 select-none items-center gap-2.5 rounded-lg px-2 py-1.5 text-sm tracking-condensed text-token-text-secondary ease-[var(--spring-bounce)] hover:bg-token-sidebar-surface-secondary focus:ring-0 screen-arch:py-[7px] screen-arch:text-body screen-arch:hover:bg-token-main-surface-secondary motion-safe:active:scale-[98%] motion-safe:active:transition-transform",s&&"bg-token-main-surface-secondary"),onClick:a,children:[e.jsx("div",{className:"h-6 w-6",children:e.jsx("div",{className:"relative flex h-full items-center justify-center text-token-text-primary",children:e.jsx(M,{className:"icon-md font-semibold text-token-sidebar-icon"})})}),e.jsx("span",{className:"text-left",children:e.jsx(k,{...y.seeMoreProjectItems})})]}),size:"auto",children:e.jsx("div",{className:"max-h-[50dvh] w-80 overflow-x-auto px-2 [scrollbar-gutter:stable]",children:e.jsx(U,{children:e.jsx(O,{currentGizmoId:t,inSidebar:!0,customListItem:x})})})})})}function W({snorlaxes:t,currentGizmoId:a}){return e.jsx(e.Fragment,{children:t.map(r=>e.jsx(x,{gizmo:r.gizmo,isActive:r.gizmo.gizmo.id===a},r.gizmo.gizmo.id))})}function ee({currentGizmoId:t,includeRevisedSidebarIa:a}){const r=C(),i=l.useRef(!1),{snorlaxes:s,data:o,isLoading:n,isError:v,refetch:u,hasNextPage:N}=P(),h=s.slice(0,b),d=l.useRef(!1),[z,g]=l.useState(!0),f=l.useCallback(function(R){R&&g(!1),u()},[u,g]),L=s&&(s?.length>b||N),S=(s??[]).length===0,m=v||o===void 0&&!n&&d.current,w=J()&&!m&&(o===void 0||n);o===void 0&&!n&&!d.current&&(d.current=!0,f(!1));const p=s?.find(c=>c.gizmo.gizmo.id===t);return s?.length>0&&!i.current&&(A({namespace:F.ChatPageLoad})?.logTiming("render_snorlax_sidebar"),i.current=!0),e.jsxs(e.Fragment,{children:[m&&e.jsx(H,{showRetry:z,refetch:f}),!m&&!n&&e.jsxs(_,{condensed:a,header:e.jsxs(e.Fragment,{children:[r.formatMessage(y.projectsHeading),!S&&e.jsx(B,{})]}),isLastInGroup:!0,ulClassName:"screen-arch:mb-5",children:[e.jsx(W,{snorlaxes:h,currentGizmoId:t}),p&&!h.some(c=>c.gizmo.gizmo.id===t)&&e.jsx(x,{gizmo:p.gizmo,isActive:!0}),L&&e.jsx(Q,{currentGizmoId:t}),!n&&S&&e.jsx(I,{})]}),w&&e.jsx(K,{className:"sticky top-4 z-30 mt-4 justify-self-center"})]})}export{ee as SnorlaxSidebarList};
//# sourceMappingURL=ko9ryq875r77qz9j.js.map
