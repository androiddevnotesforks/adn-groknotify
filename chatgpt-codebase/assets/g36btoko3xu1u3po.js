const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/kta6mevczfoq8rl7.js","assets/bbqge6n6s1oo3m8q.js","assets/sc6wuawsxvh1jc35.js","assets/lt2ef0v2naysiy2l.js","assets/lemv4z8z7gk39eh5.js","assets/root-o5vuh9g4.css","assets/conversation-small-iybhw0ps.css","assets/e9ioikt8tbassp1n.js","assets/ngpfizqqb9onsju2.js","assets/b6besid35puipqnp.js","assets/dii6f0f58vjyxn3r.js","assets/pah0un9d5vytizt6.js","assets/k9i239fw3jmco37f.js"])))=>i.map(i=>d[i]);
import{j as e,r as x}from"./bbqge6n6s1oo3m8q.js";import{hp as X,hq as Y,hr as Z,gN as J,b_ as K,hs as ee,ht as se,hu as ae,hv as D,hw as te,hx as ne,hy as re,hz as oe,hA as ie,bA as ce,hB as de,hC as B,hD as le,aO as A,hE as he,cX as ue,cG as M,hF as me,fx as pe,cH as Ce,co as xe,hG as Se,hH as ve,cp as ge,cq as Te,cr as fe,cs as je,cv as be,ct as R,cu as ye,cw as Ne}from"./lt2ef0v2naysiy2l.js";import{aO as W,aP as q,gF as z,cj as Ie,cw as Le,dO as we,fW as Ee,at as G,fi as r,ap as m,ak as He,$ as ke,aj as _e,d3 as De,d$ as Ae,dd as V,fH as Me,aY as Oe,fI as Fe,dT as Pe,gG as Re,b6 as Ue}from"./lemv4z8z7gk39eh5.js";import{S as Be,u as $,E as We,C as U,c as qe,T as ze,d as Ge}from"./ngpfizqqb9onsju2.js";import{f as O,g as Ve,u as $e}from"./e9ioikt8tbassp1n.js";import{C as Qe}from"./mmwacm2oz5glh3tg.js";import{C as Xe}from"./jm0r787aq5qhv46g.js";import{S as Ye,C as Ze}from"./oqxp7xd8oekmrayn.js";import{b as Je,U as Ke,N as es}from"./mn1nh5nafluqb0zf.js";function ss({clientThreadId:s,currentModelId:o,isModelLoaded:i,onRequestCompletion:a,v2HomepageDisclaimer:t}){return e.jsx(Be,{clientThreadId:s,currentModelId:o,isModelLoaded:i,onRequestCompletion:a,v2HomepageDisclaimer:t})}const as=W(()=>q(()=>import("./kta6mevczfoq8rl7.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])).then(s=>s.ChatScreenContentModals));function ts({disableEmptyState:s,fullWidth:o,renderEmptyState:i}){const{clientThreadId:a,currentModelId:t,conversationLeafId:n,isCompanionWindow:c,isEmbeddedInFocusedView:h,onChangeItemInView:p,onChangeRating:u,onRequestCompletion:l,onRequestMoreCompletions:b,isModelLoaded:C,prefetchSearch:S}=x.useContext(O),v=z(a,n),T=Ie(a,Le.getScrollToMessageId),y={clientThreadId:a,conversationLeafId:n,currentModelId:t,onChangeItemInView:p,onChangeRating:u,onRequestMoreCompletions:b,onRequestCompletion:l,showAvatar:!1},f=we(a),E=X({clientThreadId:a,currentLeafId:n,handleRequestCompletion:l,prefetchSearchPromise:S}),N=f||E||s,g=Ee(),{initialConversationTurns:j,continuedConversationTurns:I}=Y(v,g),{canUseNewHomepage:L,showEmptyState:H}=$({clientThreadId:a,currentLeafId:n}),k=v>=2;Z(k);const{setTargetedContent:w}=J(),Q=K(t),F=ee(a);se(v,a,n),x.useEffect(()=>{h||w(void 0)},[a,w,h]);const P=ae(a,n);if(H){if(i!=null)return i();if(L&&!N){const d=c?null:e.jsx("div",{className:"text-center text-xs text-token-text-secondary",children:e.jsx(D,{clientThreadId:a})});return e.jsx(ss,{clientThreadId:a,currentModelId:t,isModelLoaded:C,onRequestCompletion:l,v2HomepageDisclaimer:d})}else if(!L&&!N)return e.jsx(We,{clientThreadId:a,currentModelId:t,isModelLoaded:C,onRequestCompletion:l,enableV2Homepage:!Q,v2HomepageDisclaimer:e.jsx(D,{clientThreadId:a})})}return e.jsxs(e.Fragment,{children:[g&&e.jsx(te,{}),g&&I.length===0&&e.jsx(ne,{}),e.jsx(G,{children:e.jsxs(x.Suspense,{fallback:null,children:[e.jsx(re,{}),j.length>0&&e.jsx("ol",{className:r.conversationTurnList,onCopy:F,children:j.map(({turnIndex:d,isFinalTurn:_})=>e.jsx("li",{className:m(r.conversationTurnWrapper,o&&"w-full"),children:x.createElement(U,{...y,key:`${a}-${d}`,turnIndex:d,isFinalTurn:_,scrollToMessageId:T,dateHeaderType:P(d)})},d))}),g&&e.jsx(oe,{}),e.jsx("ol",{className:r.conversationTurnList,onCopy:F,children:I.map(({turnIndex:d,isFinalTurn:_})=>e.jsx("li",{className:m(r.conversationTurnWrapper,o&&"w-full"),children:x.createElement(U,{...y,key:`${a}-${d}`,turnIndex:d,isFinalTurn:_,scrollToMessageId:T,dateHeaderType:P(d)})},d))})]})}),e.jsx(as,{}),v>0&&e.jsx(ie,{})]})}function ns({renderEmptyState:s}){return e.jsx(ts,{renderEmptyState:s})}const rs=W(()=>q(()=>import("./ngpfizqqb9onsju2.js").then(s=>s.e),__vite__mapDeps([8,4,1,5,3,6,7,9,10,11,12])).then(s=>s.ChatScreenComposerAlerts));function os(){const{clientThreadId:s,currentModelId:o,isCompanionWindow:i,onRequestCompletion:a}=x.useContext(O),t=ce(s),n=He(s),h=z(s,n)>=2,p=ke(s,n),u=_e(s)&&!h&&de(t),{setComposerFooterElement:l}=x.useContext(B);return e.jsx("div",{className:r.footer,children:e.jsxs(le,{style:{"--bar-gap":"0.5rem","--bar-background-color":"transparent"},children:[e.jsxs(A,{type:"secondary",className:"relative",children:[h&&e.jsx(he,{className:r.scrollButton}),e.jsx(rs,{})]}),e.jsxs(A,{type:"primary",ref:l,name:"composer-bar",className:"bottom-[var(--screen-keyboard-bottom,env(keyboard-inset-bottom,0px))] has-thread-error:bg-token-main-surface-primary has-thread-error:pt-8",children:[e.jsx(qe,{clientThreadId:s,currentModelId:o,isNewThread:u,noWrap:!0,onRequestCompletion:a,showPromptStarters:u||!p}),!i&&e.jsx("div",{className:"text-center text-xs text-token-text-secondary keyboard-open:hidden",children:e.jsx(D,{clientThreadId:s})})]})]})})}function is(){const{clientThreadId:s,isLoggedInUser:o,onNewThread:i}=x.useContext(O),a=De(s),t=ue(a),n=Ae(),c=V(),h=M(S=>!S.isDesktopNavCollapsed),p=Me(),u=c.get("include_legacy_sidebar_contents",!1),{useStore:l}=me(),C=l(S=>S.isSidebarOpen)||u&&h&&!p;return e.jsxs(A,{leading:!0,type:"primary",className:r.header,children:[e.jsxs("div",{className:r.headerLeading,children:[!n&&t&&e.jsx(Ve,{clientThreadId:s,hideNewChat:!0}),o&&e.jsx(pe,{className:m(C&&"invisible")}),!t&&(!o||!C)&&e.jsx(Qe,{onNewThread:i,className:m(o&&"hidden @lg/thread:inline-flex",C&&"invisible"),location:"thread"}),e.jsx("div",{className:m(r.threadDropdown),children:e.jsx(ze,{clientThreadId:s})})]}),e.jsx("div",{className:r.headerTrailing,children:e.jsx(G,{children:e.jsx(Ge,{clientThreadId:s})})})]})}function cs({clientThreadId:s,onNewThread:o}){const i=Ce(),[a]=M(n=>[n.activeStageSidebar]),{isUnauthenticated:t}=Oe();return e.jsx(Je,{isExpanded:!i,isPopoverOnDesktop:a,children:t?e.jsx(Ke,{}):e.jsx(es,{navHeader:s?e.jsx(Ye,{className:"flex h-[60px] items-center md:h-header-height",onNewThread:o}):null,children:e.jsx(Ze,{clientThreadId:s})})})}function vs({hideHeader:s=!1,hideFooter:o=!1,hideTools:i=!1,embedded:a=!1,renderEmptyState:t,ref:n}){const{clientThreadId:c,currentModelId:h,conversationLeafId:p,isCompanionWindow:u,isInstalledApp:l,onNewThread:b,onRequestCompletion:C,routeType:S}=$e(),{canUseNewHomepage:v,showEmptyState:T}=$({clientThreadId:c,currentLeafId:p}),y=V(),f=Fe("include_legacy_sidebar_contents"),E=xe()[h],[N,g]=Se({name:"composer-bar",track:"height"}),j=ve(c),I=ge(),L=Pe(),H=o||T&&v,k=M(w=>f()&&!w.isDesktopNavCollapsed);return Re(c),e.jsx(Ue.Provider,{value:C,children:e.jsx(Te,{children:e.jsxs(fe,{clientThreadId:c,currentLeafId:p,children:[e.jsx(je,{children:j!=null&&e.jsx("title",{children:j})}),e.jsx(be,{clientThreadId:c,className:m(a&&"h-full","flex-1"),currentModelConfig:E,children:e.jsx(B.Provider,{value:{setComposerFooterElement:g},children:e.jsxs("div",{className:m("h-full",f()&&"flex"),style:{container:"thread-container / inline-size","--legacy-sidebar-offset":k?"260px":""},children:[e.jsx(R,{id:"canvas-state",name:"canvas-state",checked:I}),e.jsx(R,{id:"thread-extended-info-sidebar-state",name:"thread-extended-info-sidebar-state",checked:L}),f()&&e.jsx(cs,{clientThreadId:c,onNewThread:b}),e.jsx(ye,{anchor:"vertical",className:m(r.screen,T&&v&&r.screenEmptyState,u&&r.screenCompanionWindow,l&&r.screenInstalledApp,a&&r.screenEmbedded),contentClassName:m(S==="snorlax"&&"mx-auto max-w-screen-md"),primaryScrollContainer:!0,name:"thread",leading:!s&&e.jsx(is,{}),style:N,ref:n,trackLeading:!0,trackTrailing:!0,trailing:!H&&e.jsx(os,{}),children:e.jsx(ns,{renderEmptyState:t})}),!u&&!i&&e.jsxs(e.Fragment,{children:[y.get("include_account_settings_move",!1)&&e.jsx(Xe,{}),e.jsx(Ne,{})]})]})})})]})})})}export{vs as C,is as a,ns as b};
//# sourceMappingURL=g36btoko3xu1u3po.js.map
